# 가비지 컬렉션 (Garbage Collector)

메모리 관리 기법 중의 하나로, 프로그램이 동적으로 할당했던 메모리 영역 중에서 필요없게 된 영역을 해제하는 기능
동적 할당된 메모리 영역 가운데 더 이상 사용할 수 없게 된 영역을 탐지하여 자동으로 해제하는 기법

![가비지 컬렉션](https://ko.javascript.info/article/garbage-collection/memory-user-john-lost.svg)

자바, C#, 일부 스크립트 언어들은 처음부터 가비지 컬렉션이 포함되어 있어 따로 동적할당한 메모리를 해제할 필요가 없지만, C, C++과 같은 프로그래밍 언어는 수동 메모리 관리를 가정하고 설계되어, 가비지 컬렉션이 포함되어 있지 않으므로, 수동으로 메모리를 관리하여야 함

### 장점

가비지 컬렉션이 지원되는 환경에서 프로그래머가 동적 할당한 메모리를 완벽하게 관리할 필요가 없어지므로, 유효하지 않은 포인터 접근, 이중 해제, 메모리 누수와 같은 문제를 없앨 수 있음 (하지만 가비지 컬렉션이 있어도 메모리 누수는 발생할 가능성 있음)

> 유효하지 않은 포인터 접근 : 이미 해제된 메모리에 접근
> 이중 해제 : 이미 해제된 메모리를 또다시 해제하는 버그
> 메모리 누수 : 더 이상 필요하지 않은 메모리가 해제되지 않고 남아 있는 버그, 계속되면 메모리 고갈로 프로그램이 중단될 수 있음

### 단점

어떤 메모리를 해제할지 결정하는데 비용이 듬(프로그래머가 미리 알고 있는 경우에도 가비지 컬렉션이 추적해야 하므로 이 작업은 비효율적), 가비지 컬렉션이 해제하는 타이밍이나 점유 시간을 미리 예측하기 어려워 프로그램이 예측 불가능하게 일시적 정지가 일어날 수 있음 (실시간 시스템에는 적합하지 않음)

> Stop The World : 가비지 컬렉션을 위해 JVM이 애플리케이션 실행을 멈추는 것



# 방식

- **포인터 추적 방식**
  한 개 이상의 변수가 접근 가능한 메모리는 앞으로 사용할 수 있는 메모리로 간주하고, 그 밖의 메모리를 해제하는 방식, (많은 가비지 컬렉션 기법)
- **참조 횟수 계산 방식**
  각 객체에서 참조 횟수를 기억하여, 참조 횟수가 0이 되면 해당 객체를 해제하는 방식