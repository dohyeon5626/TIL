# 클린코드_1장\_깨끗한 코드

<u>**코드는 요구사항을 표현하는 언어**</u>
요구사항에 더욱 가까운 언어를 만들 수도 있고, 요구사항에서 정형 구조를 뽑아내는 도구를 만들 수도 있음
하지만 어느 순간에는 정밀한 표현이 필요함, 그 필요성을 없앨 방법은 없음

### 나쁜 코드

회사에서는 나쁜 코드로 인해, 제품 출시가 늦어질 수 있고, 이전에 있던 버그가 수정이 안될 수도 있는 등 **많은 문제를 야기**함, 그렇게 생긴 문제는 계속하면 계속할수록 감당이 불가능한 수준에 이름

나쁜 코드를 짜는 이유는 급하거나, 서둘러서 짰을 것임, 그리고 나중에 정리하겠다고 다짐하지만, 나중은 결코 오지 않음

### 나쁜 코드로 치르는 대가

```
코드를 고칠 때마다 엉뚱한 곳에서 문제가 생김, 간단한 변경이 없음
매번 얽히고설킨 코드를 해독해서 얽히고설킨 코드를 더하여, 시간이 지나면서 쓰레기 더미는 점점 높아지고 깊어지고 커짐
```

-> **나쁜 코드는 개발 속도를 크게 떨어뜨림**

```
나쁜 코드를 가지고 개발을 못하여, 새로 재설계를 한다고 해도, 새 프로젝트가 기존의 프로젝트 기능을 100% 제공하지 않으면 대체하지 않으므로, 새 시스템을 내놓는 동시에 기존 시스템에 가해지는 변경을 따라 잡아야하므로, 매우 힘듬
```

-> **깨끗한 코드를 만드는 노력이 비용을 절감하는 방법일 뿐만 아니라 전문가로서 살아남는 길**

### 태도

최대한 나쁜 코드는 짜면 안됨
아무리 시간이 촉박하고, 관리자가 요구해도, 나쁜 코드의 위험은 매우 크기 때문에, 좋은 코드를 짜야함
관리자가 나쁜 코드의 위험을 이해하지 못해도 **좋은 코드를 사수하는 일은 프로그래머의 책임**

> 나쁜 코드의 위험을 이해하지 못하는 관리자 말을 그대로 따르는 행동은 전문가답지 못함

### 원초적 난제

```
나쁜 코드가 업무 속도를 늦춘다는 사실을 익히 앎, 하지만 모든 프로그래머가 기한을 맞추려면 나쁜 코드를 양산할 수밖에 없다고 느낌 , 하지만 오히려 나쁜 코드를 양산하면 기한을 맞추지 못함, 엉망진창인 상태로 인해 속도가 늦음
```

-> **빨리 가는 유일한 방법은 언제나 코드를 최대한 깨끗하게 유지하는 습관**

### 깨끗한 코드란?

비야네는 나쁜 코드는 나쁜 코드를 유혹한다고 말함, 나쁜 코드를 고치면서 오히려 더 나쁜 코드로 만듦

> 똑같은 말을 데이브와 앤디는 깨진 창문이라는 비유를 사용함

프로그래머가 대충 넘어가는 부분 중 하나가 오류 처리임, 메모리 누수, 경쟁 상태, 일관성 없는 명명법이 또 다른 예임, 한 마디로 요약하면, **깨끗한 코드는 세세한 사항까지 꼼꼼하게 처리하는 코드**

비야네는 깨끗한 코드란 한 가지를 잘 한다고 단언함, 수많은 소프트웨어 설계 원칙이 이 간단한 교훈 하나로 귀결된다는 사실은 우연이 아님, 나쁜 코드는 너무 많은 일을 하려 애쓰다가 의도가 뒤섞이고 목적이 흐려짐, **깨끗한 코드는 한 가지에 집중함**

---

그래디는 비야네와 흡사하지만 가독성을 강조하였음
코드는 추측이 아니라 사실에 기반해야 함, 반드시 필요한 내용만 담아야 함, 코드를 읽는 사람에게 프로그래머가 단호하다는 인상을 줘야 함
**깨끗한 코드가 잘 쓴 문장처럼 읽혀야 함**

> 인간이 읽기 좋은 코드를 작성하라는 말임

---

데이브는 앞에서 말한 가독성에서 하나를 더함, "**깨끗한 코드는 다른 사람이 고치기 쉽다**"
실제로 읽기 쉬운 코드와 고치기 쉬운 코드는 엄연히 다름
데이브는 깨끗한 코드를 테스트 케이스와 연관 짓는데, TDD가 업계에 심오한 영향을 미치면서 오늘날 가장 근본적인 원칙 중 하나가 되었음
"**테스트 케이스가 없는 코드는 깨끗한 코드가 아니다**. 아무리 코드가 우아해도, 아무리 가독성이 높아도, 테스트 케이스가 없으면 깨끗하지 않다"
데이브는 '최소'라는 말을 두 번이나 사용했는데,  명백히 그가 큰 코드보다 작은 코드에 가치를 둔다는 의미
이는 소프트웨어 문헌에서 계속 반복하는 교훈이기도 함

---

깨끗한 코드는 특징이 많지만, 그 중에서도 모두를 아우르는 특징이 있는데, 깨끗한 코드는 언제나 누군가 주의 깊게 짰다는 느낌을 줌
즉 "**깨끗한 코드는 주의 깊게 작성한 코드**"
"누군가 시간을 들여 깔끔하고 단정하게 정리한 코드", "세세한 사항까지 꼼꼼하게 신경쓴 코드", "주의를 기울인 코드"라고 할 수 있음

---

같은 작업을 여러 차례 반복한다면 코드가 아이디어를 제대로 표현하지 못한다는 증거임
표현력은 이름에만 국한되지 않음

> 객체가 여러 기능을 수행한다면 여러 객체로 나눔,  메서드가 여러 기능을 수행한다면 메서드 추출 리팩터링 기법을 적용해 기능을 명확히 기술하는 메서드 하나와 기능을 실제로 수행하는 메서드 여러 개로 나눔

중복과 표현력만 신경 써도 깨끗한 코드라는 목표에 성큼 다가섬
하지만 이에 하나를 더 고려함

그건 바로 추상화인데, 초반부터 간단한 추상화를 고려하면 깨끗한 코드에 더 다가갈 수 있음

즉 다시 정리하면, "**중복을 피하고, 한 기능만 수행, 제대로 표현하고, 작게 추상화해라**"임

### 보이스카우트 규칙

"캠프장은 처음 왔을 때보다 더 깨끗하게 해놓고 떠나라."
위 문장처럼 체크아웃할 때보다 좀 더 깨끗한 코드를 체크인한다면 코드는 절대 나빠지지 않음

