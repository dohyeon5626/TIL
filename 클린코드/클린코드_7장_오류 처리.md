# 클린코드\_7장_오류 처리

깨끗한 코드와 오류 처리는 확실히 연관성이 있음

여기저기 흩어진 오류 처리 코드 때문에 실제 코드가 하는 일을 파악하기 거의 불가능함
-> **오류 처리가 중요함**

### 오류 코드보다 예외를 사용하라

예외를 사용하게 된다면, 디바이스를 종료하는 알고리즘과 오류를 처리하는 알고리즘을 분리할 수 있으므로, 각 개념을 독립적으로 살펴보고 이해할 수 있음

> 예외를 사용하면 예외가 시작하자마자, 프로그램이 바로 멈추기 때문에 매우 편리함
> -> 오류를 찾아서 종료까지 코드를 짤 필요가 없음

### Try-Catch-Finally 문부터 작성하라

`try`블록에서 실행이 중단된 후 `catch`문으로 바로 넘어감

> 어떤 면에선 `try`블록은 트랜잭션과 비슷함

`try`블록에서 무슨 일이 생기든지 호출자가 기대하는 상태를 정의하기 쉬워짐

> `try`블록에서 무슨 일이 생기든지 `catch`블록은 프로그램 상태를 일관성 있게 유지해야 함

---

`try-catch` 구조로 범위를 정의했으면, TDD를 사용해 필요한 나머지 논리를 추가함

> TDD : 테스트 주도 개발

먼저 강제로 예외를 일으키는 테스트 케이스를 작성한 후 테스트를 통과하게 코드를 작성하는 방법을 권장함
그러면, 자연스럽게 `try`블록의 범위부터 구현하게 되므로 범위 내에서 트랜잭션 본질을 유지하기 쉬워짐

### 미확인 예외를 사용하라

확인된 예외는 컴파일 단계에서 확인되며 반드시 처리해야 할 예외

> 일반 예외

미확인된 예외는 실행 단계에서 확인되며 명시적인 처리를 강제하지 않는 예외

> 실행 예외
>
> > - NullPointerException
> > - IllegalArgumentException
> > - IndexOutOfBoundException
> > - SystemException

지금은 안정적인 소프트웨어를 제작하는 요소로 확인된 예외가 반드시 필요하지 않다는 사실이 분명해짐, C#, C++은 확인된 예외를 지원하지 않음
하지만, 그럼에도 C#, C++은 안정적인 소프트웨어를 만드는데 불편함이 없음

> 확인된 예외는 OCP를 위반함
>
> > OCP : 개방-폐쇄 원칙
> >
> > ```
> > '소프트웨어 개체는 확장에 대해 열려 있어야 하고, 수정에 대해서는 닫혀 있어야 한다'
> > ```